# Описание gulp-сборки

## 1. JS
**Скрипты**
  + никак не обрабатываются, все файлы по адресу "src/js/" копируются в "docs/js/"

~~конкатенация пользовательских скриптов~~ (отключено)

~~минификация пользовательских скриптов~~ (отключено)

## 2. HTML
**Используется шаблонизатор PUG:**
  + плагин plumber для вывода ошибок в терминал
  + pretty: true - форматирование, запрет на минификацию

~~Минификация HTML на выходе~~ (отключено)

~~collapseWhitespace: true - удаляем все переносы~~ (отключено)

~~removeComments: true - удаляем комментарии~~ (отключено)

## 3. CSS
**Используется препроцессор SASS**
  + плагин plumber для вывода ошибок в терминал
  + sassGlob - возможность подключать файлы глобально один в другой
  + SASS синтаксис

~~конкатенация всех файлов в styles.min.css~~ (отключено)

  + автопрефиксер

~~минификация~~ (отключено)

## 4. IMG
**JPG, PNG, SVG**
  + PNG: сжимаем (optimizationLevel: 3)
  + JPG: сжимаем (progressive: true)
  + SVG: сжимаем

~~WebP~~

~~все изображения, кроме изображений из папок icons и favicon, конвертируются в webp~~ (отключено)

~~сжимаем (quality: 80)~~ (отключено)

~~меняем расширение файла~~ (отключено)

**SVG-спрайт**
  + все изображения [src/img/] с префиксом [icon-ИМЯ_ФАЙЛА.svg] инлайнятся
  + создается файл (спрайт) sprite.svg
  + помещается в [src/img/sprite.svg]
  + подключается в разметку на странице

### Алгоритм работы сборки

Папка **src** - исходные файлы.

Папка **docs** - скомпилированная вёрстка.

Перед запуском сборки (в случае доработок) необходимо выполнить команду **npm i** для установки всех пакетов.

Запуск сборки производится командой **gulp**.

**Последовательно**
  1. очищаем папку docs
  2. сжимаем картинки

~~3. создаем webp из других форматов~~

  4. создаем спрайт из svg иконок
  5. копируем все изображения в docs
  
**Параллельно**

  + операции с css
  + операции с html
  + копирование папки libs в docs
  + копирование папки fonts в docs
